(this["webpackJsonpbook-playlist-frontend"]=this["webpackJsonpbook-playlist-frontend"]||[]).push([[0],{35:function(e,n,t){},45:function(e,n,t){"use strict";t.r(n);var r,c,a,i,o=t(4),s=t(25),d=t.n(s),j=(t(35),t(21)),b=t(6),l=t(13),u=t(46),h=t(15),O=t(22),x=t.n(O),m=x()(r||(r=Object(h.a)(["\n  {\n    books {\n      name\n      id\n    }\n  }\n"]))),f=x()(c||(c=Object(h.a)(["\n  {\n    authors {\n      name\n      id\n    }\n  }\n"]))),p=x()(a||(a=Object(h.a)(["\n  mutation($name: String!, $genre: String!, $authorId: ID!) {\n    addBook(name: $name, genre: $genre, authorId: $authorId) {\n      name\n      id\n    }\n  }\n"]))),g=x()(i||(i=Object(h.a)(["\n  query($id: ID) {\n    book(id: $id) {\n      id\n      name\n      genre\n      author {\n        id\n        name\n        age\n        books {\n          name\n          id\n        }\n      }\n    }\n  }\n"]))),k=t(3),v=function(e){var n=e.data.book;return n?Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{children:n.name}),Object(k.jsxs)("p",{children:["Genre: ",Object(k.jsx)("span",{children:n.genre})]}),Object(k.jsxs)("p",{children:["Author: ",Object(k.jsx)("span",{children:n.author.name})]}),Object(k.jsx)("p",{children:"All books by this author:"}),Object(k.jsx)("ul",{className:"other-books",children:n.author.books.map((function(e){return Object(k.jsx)("li",{children:e.name},e.id)}))})]}):Object(k.jsx)("h3",{children:"No book selected..."})},y=Object(u.a)(g,{options:function(e){return{variables:{id:e.bookId}}}})((function(e){return Object(k.jsx)("div",{id:"book-details",children:v(e)})})),I=Object(u.a)(m)((function(e){var n=Object(o.useState)(null),t=Object(l.a)(n,2),r=t[0],c=t[1];return Object(k.jsxs)("div",{children:[Object(k.jsx)("ul",{id:"book-list",children:function(){var n=e.data;return n.loading?Object(k.jsx)("div",{children:"Loading books..."}):n.books.map((function(e){return Object(k.jsx)("li",{onClick:function(n){c(e.id)},children:Object(k.jsx)("button",{className:"bttn-material-flat bttn-sm bttn-success",children:e.name})},e.id)}))}()}),Object(k.jsx)(y,{bookId:r})]})})),S=t(30),$=function(e){var n=e.getAuthorsQuery;return n.loading?Object(k.jsx)("option",{disabled:!0,children:"Loading authors"}):n.authors.map((function(e){return Object(k.jsx)("option",{value:e.id,children:e.name},e.id)}))},N=Object(S.flowRight)(Object(u.a)(f,{name:"getAuthorsQuery"}),Object(u.a)(p,{name:"addBookMutation"}))((function(e){var n=Object(o.useState)(""),t=Object(l.a)(n,2),r=t[0],c=t[1],a=Object(o.useState)(""),i=Object(l.a)(a,2),s=i[0],d=i[1],j=Object(o.useState)(""),b=Object(l.a)(j,2),u=b[0],h=b[1];return Object(k.jsxs)("form",{id:"add-book",onSubmit:function(n){n.preventDefault(),e.addBookMutation({variables:{name:r,genre:s,authorId:u},refetchQueries:[{query:m}]})},children:[Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"Book name:"}),Object(k.jsx)("input",{type:"text",onChange:function(e){return c(e.target.value)},required:!0})]}),Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"Genre:"}),Object(k.jsx)("input",{type:"text",onChange:function(e){return d(e.target.value)},required:!0})]}),Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"Author:"}),Object(k.jsxs)("select",{onChange:function(e){return h(e.target.value)},required:!0,children:[Object(k.jsx)("option",{children:"Select author"}),$(e)]})]}),Object(k.jsx)("button",{className:"bttn-material-circle bttn-md bttn-danger",children:"+"})]})})),q=new j.a({uri:"http://localhost:5000/graphql"});var B=function(){return Object(k.jsx)(b.b,{client:q,children:Object(k.jsxs)("div",{id:"main",children:[Object(k.jsx)("h1",{children:"Kirin Tran's Book PlayList"}),Object(k.jsx)(I,{}),Object(k.jsx)(N,{})]})})};d.a.render(Object(k.jsx)(B,{}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.6d2f963f.chunk.js.map